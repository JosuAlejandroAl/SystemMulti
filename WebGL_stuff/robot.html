<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello Robot</title>
</head>
<body>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/110/three.js"></script>

    <script>
		const scene = new THREE.Scene();

const RobotEmptyGroup = createCar();
scene.add(RobotEmptyGroup);

// Set up lights
const ambientLight = new THREE.AmbientLight(0xffd700, 0.6);
scene.add(ambientLight);

const dirLight = new THREE.DirectionalLight(0xffffff, 0.8);
dirLight.position.set(200, 500, 300);
scene.add(dirLight);

// Set up camera
const aspectRatio = window.innerWidth / window.innerHeight;
const cameraWidth = 150;
const cameraHeight = cameraWidth / aspectRatio;

const camera = new THREE.OrthographicCamera(
  cameraWidth / -2, // left
  cameraWidth / 2, // right
  cameraHeight / 2, // top
  cameraHeight / -2, // bottom
  0, // near plane
  1000 // far plane
);
camera.position.set(200, 200, 200);
camera.lookAt(0, 10, 0);

// var helper = new THREE.CameraHelper(dirLight.shadow.camera);
// var helper = new THREE.CameraHelper(camera);
// scene.add(helper);

// const gridHelper = new THREE.GridHelper(80, 8);
// scene.add(gridHelper);

// const axesHelper = new THREE.AxesHelper(80);
// scene.add(axesHelper);

// Set up renderer
const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.render(scene, camera);

renderer.setAnimationLoop(() => {
  RobotEmptyGroup.rotation.y -= 0.01;
  renderer.render(scene, camera);
});

document.body.appendChild(renderer.domElement);

//%%%%%%%%%%%%%%%          	GROUP CREATED ROBOT EMPTY  (Position in X and Y added)     	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function createCar() {
	
  const RobotEmptyGroup = new THREE.Group();//Declare the group

  const robotEmptyBody = measureRobotEmptyBody(); //body of robot
  robotEmptyBody.position.y = 1;
  robotEmptyBody.position.x = 0;
  robotEmptyBody.position.z = 0;
  RobotEmptyGroup.add(robotEmptyBody);

  const leftArmRobotEmpty = measureRobotArms(); //left arms
  leftArmRobotEmpty.position.y = 1;
  leftArmRobotEmpty.position.x = -3;
  leftArmRobotEmpty.position.z = 0;
  RobotEmptyGroup.add(leftArmRobotEmpty);

  const rightArmRobotEmpty = measureRobotArms(); //rigth arm
  rightArmRobotEmpty.position.y = 1;
  rightArmRobotEmpty.position.x = 3;
  rightArmRobotEmpty.position.z = 0;
  RobotEmptyGroup.add(rightArmRobotEmpty);

  const leftLeverRobotEmpty = measureRobotlevers(); //left lever
  leftLeverRobotEmpty.position.y = -4;
  leftLeverRobotEmpty.position.x = -3;
  leftLeverRobotEmpty.position.z = 4;
  RobotEmptyGroup.add(leftLeverRobotEmpty);

  const rightLeverRobotEmpty = measureRobotlevers(); //right lever
  rightLeverRobotEmpty.position.y = -4;
  rightLeverRobotEmpty.position.x = 3;
  rightLeverRobotEmpty.position.z = 4;
  RobotEmptyGroup.add(rightLeverRobotEmpty);

  return RobotEmptyGroup;//finish this group
}

//%%%%%%%%%%%%%%%          	MEASURE FUNTIONS OF ROBOT EMPTY       	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function measureRobotEmptyBody() {
  const geometry = new THREE.BoxBufferGeometry(5, 15, 5);
  const material = new THREE.MeshLambertMaterial({ color: 0x800000 });
  const measRoboEmptBody = new THREE.Mesh(geometry, material);
  return measRoboEmptBody;
}

function measureRobotArms(){
	const geometry = new THREE.BoxBufferGeometry(2, 10, 2);
  	const material = new THREE.MeshLambertMaterial({ color: 0xC0C0C0 });
  	const wheel = new THREE.Mesh(geometry, material);
  return wheel;
}

function measureRobotlevers(){
	const geometry = new THREE.BoxBufferGeometry(2, 1, 10);
  	const material = new THREE.MeshLambertMaterial({ color: 0xC0C0C0 });
  	const wheel = new THREE.Mesh(geometry, material);
  return wheel;
}



function getCarFrontTexture() {
  const canvas = document.createElement("canvas");
  canvas.width = 64;
  canvas.height = 32;
  const context = canvas.getContext("2d");

  context.fillStyle = "#ffffff";
  context.fillRect(0, 0, 64, 32);

  context.fillStyle = "#666666";
  context.fillRect(8, 8, 48, 24);

  return new THREE.CanvasTexture(canvas);
}

function getCarSideTexture() {
  const canvas = document.createElement("canvas");
  canvas.width = 128;
  canvas.height = 32;
  const context = canvas.getContext("2d");

  context.fillStyle = "#ffffff";
  context.fillRect(0, 0, 128, 32);

  context.fillStyle = "#666666";
  context.fillRect(10, 8, 38, 24);
  context.fillRect(58, 8, 60, 24);

  return new THREE.CanvasTexture(canvas);
}

	</script>

</body>
</html>